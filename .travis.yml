sudo: false
os:
 - linux
 - osx
language: d
d:
 - ldc-1.1.0
 - ldc-1.1.1
 - ldc-1.2.0-beta1
addons:
  apt:
    packages:
      - libblas-dev
      - gcc
      - gfortran
branches:
  only:
    - master
script:
 - cd examples/ && dub --single gemm_example.d && cd ../
 - cd examples/ && dub --single hemm_example.d && cd ../
 - cd bench/ && dub --single gemm_report.d && cd ../
 - bash -e test.sh

matrix:
    allow_failures:
    - {d: ldc-1.2.0-beta1}
    - {os: osx}


notifications:
  email:
    - ilyayaroshenko@gmail.com

notifications:
  webhooks:
    urls:
      - https://webhooks.gitter.im/e/d2d7cb29fc776c5eaeef
    on_success: change
    on_failure: always
    on_start: never
